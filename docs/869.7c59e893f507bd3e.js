"use strict";(self.webpackChunkflashCart=self.webpackChunkflashCart||[]).push([[869],{869:(x,r,s)=>{s.r(r),s.d(r,{ProductDetailsComponent:()=>h});var c=s(6814),n=s(756),t=s(4769),d=s(2559),_=s(1120),u=s(6286),p=s(2425);function g(i,l){if(1&i&&(t.TgZ(0,"div",16),t._UZ(1,"img",17),t.qZA()),2&i){const e=t.oxw().$implicit,a=t.oxw(2);t.xp6(1),t.Q6J("src",e,t.LSH)("alt",a.detailsData.title)}}function m(i,l){1&i&&(t.ynx(0),t.YNc(1,g,2,2,"ng-template",15),t.BQk())}function D(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"owl-carousel-o",5),t.YNc(5,m,2,0,"ng-container",6),t.qZA()()(),t.TgZ(6,"div",7)(7,"div",8)(8,"h1",9),t._uU(9),t.qZA(),t.TgZ(10,"p",10),t._uU(11),t.qZA(),t.TgZ(12,"p",11)(13,"strong"),t._uU(14,"created at :"),t.qZA(),t._uU(15),t.ALo(16,"date"),t.qZA(),t.TgZ(17,"div",12)(18,"h6"),t._uU(19),t.ALo(20,"currency"),t.qZA(),t.TgZ(21,"h6"),t._uU(22),t._UZ(23,"i",13),t.qZA()(),t.TgZ(24,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.addProduct(o.detailsData._id))}),t._uU(25,"+add Product cart"),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("options",e.customOptions),t.xp6(1),t.Q6J("ngForOf",null==e.detailsData?null:e.detailsData.images),t.xp6(4),t.Oqu(e.detailsData.title.split(" ").slice(0,3).join(" ")),t.xp6(2),t.Oqu(e.detailsData.description),t.xp6(4),t.hij(" ",t.lcZ(16,8,e.detailsData.createdAt),""),t.xp6(4),t.hij("price :",t.lcZ(20,10,e.detailsData.price),""),t.xp6(3),t.hij(" ",e.detailsData.ratingsAverage," "),t.xp6(2),t.Q6J("disabled",e.clickFlag)}}let h=(()=>{class i{constructor(e,a,o,f){this._DetailsService=e,this._ActivatedRoute=a,this._CartService=o,this._toast=f,this.clickFlag=!1,this.customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!1,navSpeed:700,autoplay:!0,autoplayTimeout:5e3,autoplaySpeed:4e3,items:1}}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:e=>{this.id=e.get("id")}}),this._DetailsService.getDetails(this.id).subscribe({next:e=>{this.detailsData=e.data},error:e=>{console.log("Error when getting details")}})}addProduct(e){this.clickFlag=!0,this._CartService.addProductToCart(e).subscribe({next:a=>{this.clickFlag=!1,this._CartService.cartNumber.next(a.numOfCartItems),this._toast.success(a.message)},error:a=>{this.clickFlag=!1,this._toast.error(a.error.message)}})}static#t=this.\u0275fac=function(a){return new(a||i)(t.Y36(d.n),t.Y36(_.gz),t.Y36(u.N),t.Y36(p._W))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-product-details"]],standalone:!0,features:[t.jDz],decls:1,vars:1,consts:[["class","main-section ",4,"ngIf"],[1,"main-section"],[1,"row","align-items-center"],[1,"col-md-3"],[1,"image","rounded-2","p-2","overflow-hidden","shadow"],[3,"options"],[4,"ngFor","ngForOf"],[1,"col-md-9"],[1,"content"],[1,"fw-bold","fst-italic"],[1,"lead"],[1,"text-muted","text-capitalize"],[1,"rataPrice","d-flex","text-main","justify-content-between","align-items-center"],[1,"fa-regular","fa-star","rating-color"],[1,"w-100","d-block","mt-3","main-btn","text-capitalize",3,"disabled","click"],["carouselSlide",""],[1,""],["height","250",1,"rounded-2","w-100",3,"src","alt"]],template:function(a,o){1&a&&t.YNc(0,D,26,12,"section",0),2&a&&t.Q6J("ngIf",o.detailsData)},dependencies:[c.ez,c.sg,c.O5,c.H9,c.uU,n.bB,n.Fy,n.Mp]})}return i})()}}]);